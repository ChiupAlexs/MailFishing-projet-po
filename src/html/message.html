<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Mailfishing</title>
    <link rel="stylesheet" href="../css/message.css">
</head>
<body>
<header>
    <div class="header-left">
        <img src="../images/icon-message.png" alt="logo">
        <h1>Message</h1>
    </div>
    <img src="../images/croix.png" alt="fermer" class="close-btn">
</header>

<main class="chat-container">
    <aside class="contacts">
        <button class="contact active">
            <img src="../images/user.png" alt="user"> Boss
        </button>
        <button class="contact">
            <img src="../images/user.png" alt="user"> Collègue
        </button>
        <button class="contact">
            <img src="../images/user.png" alt="user"> Collègue
        </button>
        <button class="contact">
            <img src="../images/user.png" alt="user"> Collègue
        </button>
    </aside>

    <section class="messages">
        <div class="message received">
            <p><strong>Bonjour, aujourd’hui tu vas recevoir un mail important.<br><br>Ne le rates pas !</strong></p>
        </div>
        <!-- Zone des réponses rapides -->
        <div class="zone-reponses" id="zone-reponses">
            <button class="reponse-choix" onclick="choisirReponse('Bien reçu, je m’en occupe !')">Bien reçu, je m’en occupe !</button>
            <button class="reponse-choix" onclick="choisirReponse('Je vais le vérifier dès maintenant.')">Je vais le vérifier dès maintenant.</button>
            <button class="reponse-choix" onclick="choisirReponse('Merci pour l’info !')">Merci pour l’info !</button>
        </div>

        <div class="input-area">
            <input id="input" type="text" placeholder="Tapez un message..." readonly>
            <button class="bouton-envoyer" onclick="envoyerMessage()">Envoyer</button>
        </div>
    </section>
</main>

<!-- Script pour la sélection de réponse au message -->
<script>
    function choisirReponse(texte) {
        document.getElementById('input').value = texte;
    }
</script>

<!-- Script qui envoie le message et supprime les boutons de réponse -->
<script>
    // Envoyer le message et supprimer les boutons de réponses
    function envoyerMessage() {
        const champ = document.getElementById('input');
        const texte = champ.value.trim();
        if (texte === "") return; // ne rien faire si vide

        // Créer une nouvelle bulle de message
        const messages = document.querySelector('.messages');
        const nouvelleBulle = document.createElement('div');
        nouvelleBulle.classList.add('message-envoye'); // ajouter une nouvelle classe CSS
        nouvelleBulle.innerHTML = `<p>${texte}</p>`;

        // Ajouter le message avant la zone de saisie
        messages.insertBefore(nouvelleBulle, document.querySelector('.input-area'));

        // Supprimer la zone de réponses rapides
        const zoneReponses = document.getElementById('zone-reponses');
        if (zoneReponses) {
            zoneReponses.remove();
        }

        // Vider le champ texte
        champ.value = "";
    }
</script>

</body>
<footer>
    <a href="JavaScript:void(0)" onclick="fonctions" class="logo">
        <img src="../icon/Logo.png" alt="logo du jeu">
    </a>
    <nav>
        <a href="">
            <img src="../images/web.png" alt="icone du navigateur">
        </a>
        <a href="">
            <img src="../images/message.png" alt="icone de la messagerie">
        </a>
        <a href="">
            <img src="../images/mail.png" alt="icone de l'application de mail">
        </a>
    </nav>
    <a href="JavaScript:void(0)" onclick="fonctions" class="icon-notification">
        <img src="../images/bell.png" alt="logo du jeu">
    </a>
</footer>

</html>
